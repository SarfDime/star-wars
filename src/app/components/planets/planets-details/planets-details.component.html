<main class="planetsDetailsMain">
    <div class="loader" *ngIf="isLoading; else content">
        <svg viewBox="0 0 24 24">
            <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2">
                <path stroke-dasharray="2 4" stroke-dashoffset="6"
                    d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21">
                    <animate attributeName="stroke-dashoffset" dur="0.6s" repeatCount="indefinite" values="6;0" />
                </path>
                <path stroke-dasharray="30" stroke-dashoffset="30"
                    d="M12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3">
                    <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.1s" dur="0.3s" values="30;0" />
                </path>
                <path stroke-dasharray="10" stroke-dashoffset="10" d="M12 8v7.5">
                    <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.5s" dur="0.2s" values="10;0" />
                </path>
                <path stroke-dasharray="6" stroke-dashoffset="6" d="M12 15.5l3.5 -3.5M12 15.5l-3.5 -3.5">
                    <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.7s" dur="0.2s" values="6;0" />
                </path>
            </g>
        </svg>
    </div>

    <ng-template #content>
        <legend>
            <svg viewBox="0 0 24 24">
                <g fill="currentColor">
                    <path
                        d="M2.815 16.25a.75.75 0 1 0-1.43-.456c-.191.602-.211 1.263.15 1.84c.453.724 1.307 1.007 2.154 1.088a.75.75 0 0 0 .143-1.493c-.694-.066-.948-.267-1.025-.39c-.05-.08-.102-.244.008-.59Zm3.67 2.259a19.627 19.627 0 0 0 1.615-.396a7.284 7.284 0 0 1-1.414-1.181c-.168.039-.332.074-.492.105a.75.75 0 0 0-.572.953c.164.176.336.344.515.505c.11.031.229.037.348.014Z" />
                    <path fill-rule="evenodd"
                        d="M19.082 10.444a22.14 22.14 0 0 1-2.043 1.631a.75.75 0 1 0 .87 1.222c.474-.338.92-.677 1.335-1.016a7.281 7.281 0 0 0-.162-1.838ZM8.1 18.113c.637-.183 1.3-.404 1.983-.66a.75.75 0 0 0-.527-1.405a22.97 22.97 0 0 1-2.87.884c.418.45.894.848 1.414 1.181Zm7.65-3.41a.75.75 0 0 0-.77-1.287a34.978 34.978 0 0 1-3.092 1.645a.75.75 0 1 0 .638 1.358a36.726 36.726 0 0 0 3.224-1.715Z"
                        clip-rule="evenodd" />
                    <path
                        d="M4.75 12a7.25 7.25 0 0 1 14.332-1.556c.201-.183.39-.363.565-.54a.75.75 0 0 1 .807-.17a8.716 8.716 0 0 0-1.43-2.952a.75.75 0 0 0-.153-1.492c-.344.032-.705.082-1.081.15a8.75 8.75 0 0 0-14.478 7.576c-.335.335-.636.668-.897.995a.75.75 0 0 0 1.172.936a8.64 8.64 0 0 1 .12-.147a8.746 8.746 0 0 0 1.915 3.19a.75.75 0 0 1 .572-.953c.16-.031.324-.066.492-.105A7.224 7.224 0 0 1 4.75 12ZM12 20.75a8.75 8.75 0 0 0 8.691-9.768c-.425.426-.91.862-1.447 1.299A7.25 7.25 0 0 1 8.1 18.113a19.77 19.77 0 0 1-1.615.396a.747.747 0 0 1-.348-.014A8.718 8.718 0 0 0 12 20.75Z" />
                    <path
                        d="M19.647 9.904a15.27 15.27 0 0 1-.565.54a7.282 7.282 0 0 1 .162 1.837a18.959 18.959 0 0 0 1.447-1.3a8.714 8.714 0 0 0-.237-1.247a.75.75 0 0 0-.807.17Zm1.29-4.525a.75.75 0 1 0-.346 1.46c.394.093.546.232.602.322c.063.101.133.366-.157.948a.75.75 0 0 0 1.343.669c.378-.758.563-1.65.086-2.413c-.344-.55-.923-.843-1.528-.986Z" />
                    <path d="M20.712 10.96a.75.75 0 0 0-.258-1.226c.108.405.188.822.237 1.248l.02-.021Z" />
                </g>
            </svg>
            <button class="goBackButton" (click)="navigateBack()">Go Back</button>
        </legend>

        <div class="details" *ngIf="currentPlanet; else noPlanet">
            <img src="assets/planets/{{ currentPlanet.name.trim().toLowerCase() }}.jpg" onerror="this.src='assets/planets/backup.jpg'" alt="planet">
            <ul>
                <li>
                    <h1>{{ currentPlanet.name }}</h1>
                </li>
                <li>
                    <p>Climate:</p>
                    <h2>{{ currentPlanet.climate }}</h2>
                </li>
                <li>
                    <p>Diameter:</p>
                    <h2>{{ currentPlanet.diameter }}</h2>
                </li>
                <li>
                    <p>Climate:</p>
                    <h2>{{ currentPlanet.climate }}</h2>
                </li>
                <li>
                    <p>Population:</p>
                    <h2>{{ currentPlanet.population }}</h2>
                </li>
                <li>
                    <p>Gravity:</p>
                    <h2>{{ currentPlanet.gravity }}</h2>
                </li>
                <li>
                    <p>Terrain:</p>
                    <h2>{{ currentPlanet.terrain }}</h2>
                </li>
                <li>
                    <p>Rotational Period:</p>
                    <h2>{{ currentPlanet.rotation_period }}</h2>
                </li>
                <li>
                    <p>Orbital Period:</p>
                    <h2>{{currentPlanet.orbital_period}}</h2>
                </li>
            </ul>
        </div>

        <ng-template #noPlanet>
            <ul class="listDetails" *ngIf="currentResults.length > 0; else noData">
                <li *ngFor="let planet of currentResults" (click)="onPlanetClick(planet.name)">
                    <img src="assets/planets/{{ planet.name.trim().toLowerCase() }}.jpg" onerror="this.src='assets/planets/backup.jpg'" alt="planet">
                    <h2>{{ planet.name }}</h2>
                </li>
            </ul>

            <ng-template #noData>
                <p>No planets found</p>
            </ng-template>
        </ng-template>
    </ng-template>
</main>